/* frontend/src/pages/SurveyTakingPage.module.css */
/* ----- START OF COMPLETE MODIFIED FILE (v1.2 - CSS for Refined Positioning) ----- */

.surveyTakingPageWrapper {
    max-width: 800px;
    margin: 20px auto;
    padding: 20px 30px; /* Adjusted padding */
    background-color: var(--background-primary, #fff); /* Changed to white for a common base */
    border: 1px solid var(--border-color-light, #e0e0e0);
    border-radius: var(--border-radius-lg, 8px); /* Slightly smaller radius */
    box-shadow: var(--shadow-md, 0 2px 10px rgba(0,0,0,0.07)); /* Softer shadow */
    font-family: inherit;
}

.surveyPageHeader { /* Renamed from surveyHeaderContent for clarity */
    margin-bottom: 20px; /* Space below header */
    padding-bottom: 15px;
    border-bottom: 1px solid var(--border-color-light, #eee);
    text-align: center; 
}
.surveyPageHeader h1 {
    color: var(--text-primary, #2c3e50); /* Darker, more modern blue/grey */
    margin-top: 0; /* Remove default top margin */
    margin-bottom: 8px; /* Tighter spacing */
    font-size: 2em; /* Larger title */
    font-weight: 600;
}
.surveyPageHeader .surveyDescription { /* Renamed from .description */
    color: var(--text-secondary, #555); /* Slightly darker secondary text */
    margin-bottom: 0; 
    font-size: 1.05em; /* Slightly larger description */
    line-height: 1.6;
}

/* --- Progress Bar Styles --- */
.progressBarContainer {
  width: 100%;
  margin: 25px 0; /* Consistent margin for all positions */
  box-sizing: border-box;
}

.progressBarTrack { 
  background-color: var(--progressbar-track-bg, #e9ecef); 
  border-radius: var(--border-radius-md, 6px); 
  height: 10px; /* Slightly slimmer */
  overflow: hidden; 
  width: 100%;
  /* Removed padding and border from track for a cleaner look */
}
.progressBarFill {
  background-color: var(--progressbar-fill-bg, #007bff); 
  height: 100%; 
  border-radius: var(--border-radius-md, 6px); /* Match track radius */
  transition: width 0.3s ease-in-out; 
}
.progressBarContainer span { 
  display: block; 
  text-align: right; /* Align text to the right, common for progress */
  font-size: 0.9em; /* Slightly larger text */
  color: var(--progressbar-text-color, #333); /* Darker text */
  margin-top: 5px;
}
/* --- END Progress Bar Styles --- */

.surveyQuestionArea { /* Renamed from questionContainer */
    padding: 10px 0; /* Reduced padding */
    margin-bottom: 25px; /* Consistent margin */
}

.questionLayoutWrapper { 
    display: flex; 
    align-items: flex-start; 
    margin-bottom: 25px; /* Increased space below each question block */
    padding: 15px; /* Add padding around the question block */
    background-color: var(--background-secondary, #fdfdfd); /* Very light grey for question block */
    border: 1px solid var(--border-color-extralight, #f0f0f0); /* Softer border */
    border-radius: var(--border-radius-md, 6px);
}

.questionNumberArea { 
    font-weight: 600; /* Slightly bolder */
    color: var(--text-tertiary, #777); /* Different color for number */
    margin-right: 15px; 
    padding-top: 2px; /* Fine-tune vertical alignment with question text */
    flex-shrink: 0; 
    font-size: 1.1em; /* Make number slightly larger */
    line-height: 1.5; /* Ensure consistent line height with question components */
    min-width: 25px; /* Give it a bit of min-width for alignment */
    text-align: right; /* Align number to its right edge if it has varying width */
}

.questionComponentArea { 
    flex-grow: 1; 
}

.questionContainerPlaceholder { /* For when question data is missing */
    text-align: center;
    padding: 20px;
    color: var(--text-secondary);
    background-color: #f9f9f9;
    border: 1px dashed #ddd;
    border-radius: 6px;
}

.surveyNavigation {
    margin-top: 25px; /* Adjusted margin */
    padding-top: 20px; /* Adjusted padding */
    border-top: 1px solid var(--border-color-light, #eee); /* Lighter border */
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 12px; /* Slightly increased gap */
}

/* Nav button styles remain largely the same, ensure they are consistent with your theme */
.navButton,
.navButtonPrimary,
.navButtonSecondary {
    padding: 10px 18px;
    border-radius: var(--border-radius-sm, 4px);
    cursor: pointer;
    font-size: 1em;
    font-weight: 500;
    text-align: center;
    transition: background-color 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease, opacity 0.2s ease;
    line-height: 1.4;
    border: 1px solid transparent;
}
.navButton { background-color: var(--button-secondary-bg, #6c757d); color: var(--button-secondary-text-light, white); border-color: var(--button-secondary-border, #6c757d); }
.navButton:hover:not(:disabled) { background-color: var(--button-secondary-hover-bg, #5a6268); border-color: var(--button-secondary-hover-border, #545b62); }
.navButtonPrimary { background-color: var(--primary-color, #007bff); color: var(--primary-text-light, white); border-color: var(--primary-color, #007bff); }
.navButtonPrimary:hover:not(:disabled) { background-color: var(--primary-color-dark, #0056b3); border-color: var(--primary-color-dark, #0056b3); }
.navButtonSecondary { background-color: var(--background-accent, #f8f9fa); color: var(--text-primary, #212529); border-color: var(--border-color-medium, #ced4da); }
.navButtonSecondary:hover:not(:disabled) { background-color: var(--background-accent-hover, #e2e6ea); border-color: var(--border-color-heavy, #adb5bd); }
.navButton:disabled,
.navButtonPrimary:disabled,
.navButtonSecondary:disabled { opacity: 0.65; cursor: not-allowed; }

.loadingContainer, .errorContainer, .surveyMessageContainer {
    text-align: center;
    padding: 40px 20px;
    font-size: 1.1em;
    color: var(--text-secondary, #555);
}
.errorContainer { background-color: var(--error-bg-light, #f8d7da); border: 1px solid var(--error-border, #f5c6cb); color: var(--error-text-dark, #721c24); border-radius: var(--border-radius-md); }
.submissionErrorBanner { background-color: var(--warning-bg-light, #fff3cd); color: var(--warning-text-dark, #856404); padding: 10px 15px; margin-bottom: 15px; border: 1px solid var(--warning-border, #ffeeba); border-radius: var(--border-radius-sm); text-align: center; }
.closeErrorButton { background: none; border: none; color: inherit; font-size: 1.2em; float: right; cursor: pointer; line-height: 1; }
.surveyMessage { margin-bottom: 10px; }

/* Modal Styles (Resume Code Modal & Validation Modal) */
.modalBackdrop { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.6); display: flex; align-items: center; justify-content: center; z-index: 1050; }
.modalContentWrapper { background-color: #fff; padding: 25px 30px; border-radius: var(--border-radius-lg, 8px); box-shadow: var(--shadow-xl, 0 10px 25px rgba(0,0,0,0.15)); width: 90%; max-width: 500px; text-align: left; }
.modalContentWrapper h3 { margin-top: 0; margin-bottom: 15px; font-size: 1.4em; color: var(--text-primary); }
.modalContentWrapper p { margin-bottom: 10px; font-size: 1em; line-height: 1.5; color: var(--text-secondary); }
.resumeCodeDisplayContainer { display: flex; align-items: center; justify-content: space-between; padding: 10px; background-color: var(--background-accent-light, #f0f0f0); border-radius: var(--border-radius-sm, 4px); margin-top: 5px; margin-bottom: 10px; border: 1px solid var(--border-color-light, #e0e0e0); }
.resumeCodeDisplay { font-family: 'Courier New', Courier, monospace; font-size: 1.1em; font-weight: bold; color: var(--text-primary, #333); word-break: break-all; margin-right: 10px; }
.copyCodeButton { padding: 6px 10px; background-color: var(--button-secondary-bg, #6c757d); color: var(--button-secondary-text-light, white); border: none; border-radius: var(--border-radius-sm, 4px); cursor: pointer; font-size: 0.9em; white-space: nowrap; }
.copyCodeButton:hover { background-color: var(--button-secondary-hover-bg, #5a6268); }
.emailInputForReminder { width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid var(--input-border, #ccc); border-radius: var(--border-radius-sm); font-size: 1em; box-sizing: border-box; }
.modalActions { margin-top: 20px; display: flex; justify-content: flex-end; gap: 10px; }
.modalContentWrapper .button { background-color: var(--primary-color, #007bff); color: white; border-color: var(--primary-color); padding: 10px 15px; border-radius: var(--border-radius-sm); cursor: pointer; font-size: 1em; border: 1px solid transparent; }
.modalContentWrapper .button:hover { background-color: var(--primary-color-dark, #0056b3); }
.modalContentWrapper .buttonSecondary { background-color: var(--button-secondary-bg, #6c757d); color: white; border-color: var(--button-secondary-border, #6c757d); padding: 10px 15px; border-radius: var(--border-radius-sm); cursor: pointer; font-size: 1em; border: 1px solid transparent; }
.modalContentWrapper .buttonSecondary:hover { background-color: var(--button-secondary-hover-bg, #5a6268); }

.validationModalBackdrop { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.5); display: flex; align-items: center; justify-content: center; z-index: 1060; }
.validationModalContent { background-color: var(--background-secondary, #fff); padding: 20px 25px; border-radius: var(--border-radius-md, 6px); box-shadow: var(--shadow-lg, 0 5px 15px rgba(0,0,0,0.2)); width: 90%; max-width: 450px; text-align: left; }
.validationModalContent h4 { margin-top: 0; margin-bottom: 15px; font-size: 1.25em; color: var(--text-primary, #333); font-weight: 600; }
.validationModalContent p { margin-bottom: 20px; font-size: 1em; line-height: 1.6; color: var(--text-secondary, #555); }
.validationModalButton { display: block; width: auto; min-width: 80px; padding: 10px 20px; margin-left: auto; background-color: var(--primary-color, #007bff); color: var(--primary-text-light, white); border: none; border-radius: var(--border-radius-sm, 4px); cursor: pointer; font-size: 1em; font-weight: 500; transition: background-color 0.2s ease; }
.validationModalButton:hover { background-color: var(--primary-color-dark, #0056b3); }

.recaptchaContainer { display: flex; justify-content: center; margin-top: 15px; margin-bottom: 15px; }

@media (max-width: 600px) {
    .surveyTakingPageWrapper { padding: 15px; margin: 10px; }
    .surveyPageHeader h1 { font-size: 1.5em; } 
    .surveyPageHeader .surveyDescription { font-size: 1em; } 
    .navButton, .navButtonPrimary, .navButtonSecondary { font-size: 0.9em; padding: 8px 12px; }
    .modalContentWrapper { padding: 20px; }
    .modalContentWrapper h3 { font-size: 1.2em; }
    .questionNumberArea { margin-right: 10px; padding-top: 1px; font-size: 1em; } /* Adjust for mobile */
    .questionLayoutWrapper { padding: 10px; } /* Reduce padding on mobile */
}
/* ----- END OF COMPLETE MODIFIED FILE (v1.2 - CSS for Refined Positioning) ----- */